# æ–°å¢AIå­å·¥å…·å®Œæ•´å¼€å‘æŒ‡å—

åŸºäºAI Baby Generatorçš„å®ç°ç»éªŒï¼Œæœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†å¦‚ä½•åœ¨Vogue AIå¹³å°ä¸­æ·»åŠ æ–°çš„AIå­å·¥å…·ã€‚

## ğŸ“‹ å¼€å‘æ­¥éª¤æ€»è§ˆ

### 1. å‰æœŸè§„åˆ’ä¸è®¾è®¡
- [ ] ç¡®å®šå·¥å…·åŠŸèƒ½å’Œç”¨æˆ·äº¤äº’æµç¨‹
- [ ] è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„
- [ ] è§„åˆ’APIæ¥å£è®¾è®¡
- [ ] ç¡®å®šN8Nå·¥ä½œæµéœ€æ±‚
- [ ] è®¾è®¡UI/UXç•Œé¢

### 2. æ•°æ®åº“è®¾è®¡
- [ ] åˆ›å»ºä¸“ç”¨æ•°æ®è¡¨
- [ ] è®¾ç½®ç”¨æˆ·å…³è”å’Œæƒé™
- [ ] é…ç½®ç§¯åˆ†æ‰£é™¤æœºåˆ¶
- [ ] æ·»åŠ çŠ¶æ€ç®¡ç†å­—æ®µ

### 3. åç«¯APIå¼€å‘
- [ ] åˆ›å»ºç”ŸæˆAPIè·¯ç”±
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ å¤„ç†
- [ ] é›†æˆN8Nå·¥ä½œæµ
- [ ] åˆ›å»ºWebhookå›è°ƒå¤„ç†

### 4. å‰ç«¯ç»„ä»¶å¼€å‘
- [ ] åˆ›å»ºä¸»é¡µé¢ç»„ä»¶
- [ ] å¼€å‘äº¤äº’ç•Œé¢
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] æ·»åŠ çŠ¶æ€ç®¡ç†

### 5. è·¯ç”±å’Œå¯¼èˆª
- [ ] é…ç½®é¡µé¢è·¯ç”±
- [ ] æ›´æ–°ä¾§è¾¹æ å¯¼èˆª
- [ ] æ·»åŠ é¢åŒ…å±‘å¯¼èˆª

### 6. æµ‹è¯•å’Œä¼˜åŒ–
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–

## ğŸ—‚ï¸ æ ¸å¿ƒæ–‡ä»¶ç»“æ„å‚è€ƒ

### æ•°æ®åº“æ–‡ä»¶
```
database/
â”œâ”€â”€ [tool_name]_table.sql          # ä¸»æ•°æ®è¡¨ç»“æ„
â”œâ”€â”€ create_initial_[tool].sql      # åˆå§‹åŒ–å‡½æ•°
â””â”€â”€ payment_tables.sql             # æ”¯ä»˜ç›¸å…³ï¼ˆå·²å­˜åœ¨ï¼‰
```

### APIè·¯ç”±æ–‡ä»¶
```
src/app/api/
â”œâ”€â”€ [tool-name]/
â”‚   â””â”€â”€ generate/
â”‚       â””â”€â”€ route.ts               # ä¸»ç”ŸæˆAPI
â””â”€â”€ webhook/
    â””â”€â”€ [tool-name]-ready/
        â””â”€â”€ route.ts               # N8Nå›è°ƒå¤„ç†
```

### å‰ç«¯é¡µé¢æ–‡ä»¶
```
src/app/[tool-name]/
â”œâ”€â”€ page.tsx                       # ä¸»é¡µé¢
â””â”€â”€ dashboard/
    â””â”€â”€ page.tsx                   # æ§åˆ¶å°é¡µé¢
```

### å‰ç«¯ç»„ä»¶æ–‡ä»¶
```
src/components/
â”œâ”€â”€ [ToolName]Client.tsx           # ä¸»äº¤äº’ç»„ä»¶
â”œâ”€â”€ Hero[ToolName].tsx             # è‹±é›„åŒºåŸŸ
â”œâ”€â”€ Features[ToolName].tsx         # åŠŸèƒ½ä»‹ç»
â”œâ”€â”€ WhatIs[ToolName].tsx           # å·¥å…·è¯´æ˜
â”œâ”€â”€ HowTo[ToolName].tsx            # ä½¿ç”¨æŒ‡å—
â””â”€â”€ [ToolName]Showcase.tsx         # æ•ˆæœå±•ç¤º
```

## ğŸ“Š æ•°æ®åº“è¡¨è®¾è®¡æ¨¡æ¿

å‚è€ƒ `database/baby_generations_table.sql`ï¼š

```sql
CREATE TABLE IF NOT EXISTS [tool_name]_generations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  job_id UUID UNIQUE NOT NULL,

  -- è¾“å…¥æ–‡ä»¶/å‚æ•°å­—æ®µ
  input_image_url TEXT,
  input_parameters JSONB,

  -- è¾“å‡ºç»“æœå­—æ®µ
  result_url TEXT,

  -- çŠ¶æ€ç®¡ç†
  status VARCHAR(20) DEFAULT 'processing'
    CHECK (status IN ('processing', 'completed', 'failed')),
  credits_used INTEGER DEFAULT 3,
  error_message TEXT,

  -- æ—¶é—´æˆ³
  created_at TIMESTAMPTZ DEFAULT NOW(),
  completed_at TIMESTAMPTZ
);

-- ç´¢å¼•ä¼˜åŒ–
CREATE INDEX idx_[tool_name]_user_id ON [tool_name]_generations(user_id);
CREATE INDEX idx_[tool_name]_job_id ON [tool_name]_generations(job_id);
CREATE INDEX idx_[tool_name]_status ON [tool_name]_generations(status);

-- RLSç­–ç•¥
ALTER TABLE [tool_name]_generations ENABLE ROW LEVEL SECURITY;
CREATE POLICY "[tool_name]_user_access" ON [tool_name]_generations
  FOR ALL USING (auth.uid() = user_id);
```

## ğŸ”§ APIè·¯ç”±å¼€å‘æ¨¡æ¿

### ä¸»ç”ŸæˆAPI (`src/app/api/[tool-name]/generate/route.ts`)

å‚è€ƒ `src/app/api/baby/generate/route.ts`ï¼š

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { createClient } from '@/utils/supabase/server';
import { v4 as uuidv4 } from 'uuid';

// æ ¸å¿ƒåŠŸèƒ½ï¼š
// 1. ç”¨æˆ·è®¤è¯éªŒè¯
// 2. å¹¶å‘ä»»åŠ¡æ£€æŸ¥
// 3. ç§¯åˆ†éªŒè¯å’Œæ‰£é™¤
// 4. æ–‡ä»¶ä¸Šä¼ åˆ°R2
// 5. æ•°æ®åº“è®°å½•åˆ›å»º
// 6. N8Nå·¥ä½œæµè§¦å‘

export async function POST(request: NextRequest) {
  // å®ç°é€»è¾‘å‚è€ƒbaby/generate/route.ts
}
```

### Webhookå›è°ƒAPI (`src/app/api/webhook/[tool-name]-ready/route.ts`)

å‚è€ƒ `src/app/api/webhook/baby-ready/route.ts`ï¼š

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { createClient } from '@/utils/supabase/server';

// æ ¸å¿ƒåŠŸèƒ½ï¼š
// 1. éªŒè¯N8Nå›è°ƒå¯†é’¥
// 2. è§£æå›è°ƒæ•°æ®
// 3. æ›´æ–°æ•°æ®åº“çŠ¶æ€
// 4. é”™è¯¯å¤„ç†

export async function POST(request: NextRequest) {
  // å®ç°é€»è¾‘å‚è€ƒbaby-ready/route.ts
}
```

## ğŸ¨ å‰ç«¯ç»„ä»¶å¼€å‘æ¨¡æ¿

### ä¸»äº¤äº’ç»„ä»¶ (`src/components/[ToolName]Client.tsx`)

å‚è€ƒ `src/components/AIBabyGeneratorClient.tsx`ï¼š

```typescript
'use client';
import { useState, useEffect } from 'react';
import { createClient } from '@/utils/supabase/client';

// æ ¸å¿ƒåŠŸèƒ½ï¼š
// 1. æ–‡ä»¶ä¸Šä¼ å¤„ç†ï¼ˆæ‹–æ‹½+ç‚¹å‡»ï¼‰
// 2. è¡¨å•éªŒè¯
// 3. ç”¨æˆ·ç™»å½•æ£€æŸ¥
// 4. ç§¯åˆ†éªŒè¯
// 5. å¹¶å‘ä»»åŠ¡æ£€æŸ¥
// 6. APIè°ƒç”¨å’ŒçŠ¶æ€ç®¡ç†
// 7. ç»“æœå±•ç¤º

export default function [ToolName]Client({ currentCredits }: Props) {
  // å®ç°é€»è¾‘å‚è€ƒAIBabyGeneratorClient.tsx
}
```

### é¡µé¢ç»„ä»¶ (`src/app/[tool-name]/page.tsx`)

å‚è€ƒ `src/app/ai-baby-generator/page.tsx`ï¼š

```typescript
import Header from '../../components/Header';
import Footer from '../../components/Footer';
import DashboardSection from '../../components/DashboardSection';
// å…¶ä»–ç»„ä»¶å¯¼å…¥

export const metadata = {
  title: "[Tool Name]: Description",
  description: "Tool description for SEO",
  // å…¶ä»–SEOé…ç½®
};

export default function [ToolName]Page() {
  return (
    <div className="min-h-screen">
      <Header />
      <main className="pt-16">
        <DashboardSection
          type="[tool-name]"
          title="[Tool Name]"
        />
        <div className="ml-64">
          {/* é¡µé¢å†…å®¹ç»„ä»¶ */}
        </div>
      </main>
      <div className="ml-64">
        <Footer />
      </div>
    </div>
  );
}
```

## ğŸ”— å…³é”®é›†æˆç‚¹

### 1. ä¾§è¾¹æ å¯¼èˆªæ›´æ–°
æ–‡ä»¶ï¼š`src/components/DashboardSection.tsx`
- æ·»åŠ æ–°å·¥å…·çš„å¯¼èˆªé¡¹
- é…ç½®è·¯ç”±å’Œå›¾æ ‡
- è®¾ç½®æ¿€æ´»çŠ¶æ€é€»è¾‘

### 2. é¡¹ç›®é¡µé¢é›†æˆ
æ–‡ä»¶ï¼š`src/components/ProjectsClient.tsx`
- æ·»åŠ æ–°å·¥å…·çš„é¡¹ç›®ç±»å‹
- é…ç½®ç»“æœå±•ç¤ºæ ¼å¼
- æ›´æ–°è¿‡æ»¤å’Œæ’åºé€»è¾‘

### 3. ç¯å¢ƒå˜é‡é…ç½®
æ–‡ä»¶ï¼š`.env.local`
```
# æ–°å·¥å…·ä¸“ç”¨é…ç½®
N8N_[TOOL_NAME]_WEBHOOK_URL=https://your-n8n-webhook-url
N8N_[TOOL_NAME]_CALLBACK_SECRET=your-callback-secret

# R2å­˜å‚¨é…ç½®ï¼ˆå…±ç”¨ï¼‰
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
```

## ğŸ“ å¼€å‘æ£€æŸ¥æ¸…å•

### åç«¯å¼€å‘
- [ ] æ•°æ®åº“è¡¨åˆ›å»ºå’Œé…ç½®
- [ ] RLSç­–ç•¥è®¾ç½®
- [ ] APIè·¯ç”±å®ç°
- [ ] æ–‡ä»¶ä¸Šä¼ å¤„ç†
- [ ] N8Né›†æˆ
- [ ] Webhookå›è°ƒå¤„ç†
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—

### å‰ç«¯å¼€å‘
- [ ] ä¸»é¡µé¢ç»„ä»¶
- [ ] äº¤äº’ç•Œé¢ç»„ä»¶
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- [ ] çŠ¶æ€ç®¡ç†
- [ ] ç”¨æˆ·åé¦ˆï¼ˆToast/Modalï¼‰
- [ ] å“åº”å¼è®¾è®¡
- [ ] æ— éšœç¢è®¿é—®

### é›†æˆæµ‹è¯•
- [ ] ç”¨æˆ·è®¤è¯æµç¨‹
- [ ] æ–‡ä»¶ä¸Šä¼ æµ‹è¯•
- [ ] APIè°ƒç”¨æµ‹è¯•
- [ ] N8Nå·¥ä½œæµæµ‹è¯•
- [ ] Webhookå›è°ƒæµ‹è¯•
- [ ] ç§¯åˆ†æ‰£é™¤éªŒè¯
- [ ] é”™è¯¯åœºæ™¯å¤„ç†

### éƒ¨ç½²å‡†å¤‡
- [ ] ç¯å¢ƒå˜é‡é…ç½®
- [ ] æ•°æ®åº“è¿ç§»
- [ ] N8Nå·¥ä½œæµéƒ¨ç½²
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] READMEæ›´æ–°

## ğŸ” é‡è¦å‚è€ƒæ–‡ä»¶

1. **æ•°æ®åº“è®¾è®¡**: `database/baby_generations_table.sql`
2. **APIå®ç°**: `src/app/api/baby/generate/route.ts`
3. **Webhookå¤„ç†**: `src/app/api/webhook/baby-ready/route.ts`
4. **å‰ç«¯ç»„ä»¶**: `src/components/AIBabyGeneratorClient.tsx`
5. **é¡µé¢ç»“æ„**: `src/app/ai-baby-generator/page.tsx`
6. **é¡¹ç›®é›†æˆ**: `src/components/ProjectsClient.tsx`
7. **å¯¼èˆªé›†æˆ**: `src/components/DashboardSection.tsx`

## ğŸ’¡ æœ€ä½³å®è·µ

1. **éµå¾ªç°æœ‰æ¨¡å¼**: ä¸¥æ ¼å‚è€ƒAI Baby Generatorçš„å®ç°æ¨¡å¼
2. **ä»£ç å¤ç”¨**: æœ€å¤§åŒ–åˆ©ç”¨ç°æœ‰ç»„ä»¶å’Œå·¥å…·å‡½æ•°
3. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
4. **æ€§èƒ½ä¼˜åŒ–**: æ–‡ä»¶å¤§å°é™åˆ¶ã€å¹¶å‘æ§åˆ¶ã€ç¼“å­˜ç­–ç•¥
5. **å®‰å…¨è€ƒè™‘**: è¾“å…¥éªŒè¯ã€æƒé™æ£€æŸ¥ã€æ–‡ä»¶ç±»å‹éªŒè¯
6. **ç”¨æˆ·ä½“éªŒ**: æ¸…æ™°çš„çŠ¶æ€åé¦ˆã€ç›´è§‚çš„æ“ä½œæµç¨‹

## ğŸš€ æŠ€æœ¯å®ç°è¦ç‚¹

### æ–‡ä»¶ä¸Šä¼ å¤„ç†
- æ”¯æŒæ‹–æ‹½å’Œç‚¹å‡»ä¸Šä¼ 
- æ–‡ä»¶ç±»å‹å’Œå¤§å°éªŒè¯ï¼ˆ5MBé™åˆ¶ï¼‰
- å®æ—¶é¢„è§ˆåŠŸèƒ½
- ä¸Šä¼ åˆ°Cloudflare R2å­˜å‚¨

### ç§¯åˆ†ç³»ç»Ÿé›†æˆ
- ç”Ÿæˆå‰ç§¯åˆ†éªŒè¯
- ç”Ÿæˆå¼€å§‹æ—¶ç§¯åˆ†æ‰£é™¤
- å¤±è´¥æ—¶ç§¯åˆ†é€€è¿˜æœºåˆ¶
- ç§¯åˆ†ä¸è¶³æ—¶è´­ä¹°å¼•å¯¼

### å¹¶å‘æ§åˆ¶
- æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰è¿›è¡Œä¸­çš„ä»»åŠ¡
- é˜²æ­¢é‡å¤æäº¤
- çŠ¶æ€ç®¡ç†å’Œç”¨æˆ·æç¤º

### N8Nå·¥ä½œæµé›†æˆ
- æ ‡å‡†åŒ–çš„è¯·æ±‚æ ¼å¼
- å›è°ƒéªŒè¯æœºåˆ¶
- é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘

æŒ‰ç…§æ­¤æŒ‡å—ï¼Œæ‚¨å¯ä»¥é«˜æ•ˆåœ°åœ¨Vogue AIå¹³å°ä¸­æ·»åŠ æ–°çš„AIå­å·¥å…·ï¼Œç¡®ä¿ä¸ç°æœ‰ç³»ç»Ÿçš„å®Œç¾é›†æˆã€‚